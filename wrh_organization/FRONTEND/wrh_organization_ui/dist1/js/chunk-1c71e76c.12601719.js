(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c71e76c"],{"0e30":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",[s("v-card-title",{staticClass:"align-start pb-3 pt-5"},[s("span",[t._v("Upcoming Events")]),s("v-spacer"),s("v-btn",{attrs:{text:"",color:"info",to:{name:t.$rns.PUBLIC_EVENTS,query:{start_date__gte:t.today,organization:(t.apiParams||{}).organization}},"x-small":""}},[t._v("View All")])],1),s("v-divider"),s("v-card-text",[s("v-list",{staticClass:"pt-0"},[t._l(t.events,(function(e,i){return[s("v-list-item",{key:"li-"+e.id,class:"d-flex px-0 ",attrs:{to:{name:t.$rns.PUBLIC_EVENT_PROFILE,params:{record_id:e.id}}}},[s("v-avatar",{staticClass:"me-3",attrs:{size:"38"}},[s("v-img",{attrs:{src:e.logo||a("66cb")}})],1),s("v-list-item-content",[s("v-list-item-title",[s("a",{staticClass:"text-decoration-none",attrs:{href:"javascript:"}},[t._v(t._s(e.name))])]),s("v-list-item-subtitle",[s("v-icon",{attrs:{size:"14"}},[t._v(" "+t._s(t.icons.mdiMapMarker)+" ")]),t._v(" "+t._s(e.country||"")+t._s(e.state?", "+e.state:"")+t._s(e.city?", "+e.city:"")+" ")],1)],1),s("v-list-item-action",[s("v-list-item-action-text",[t._v(" "+t._s(t.$utils.formatDate(e.start_date,"MMM D, YYYY"))+" "),s("v-icon",{attrs:{size:"14"}},[t._v(" "+t._s(t.icons.mdiCalendarBlankOutline)+" ")])],1)],1)],1),i<t.events.length-1?s("v-divider",{key:"d-"+e.id}):t._e()]})),t.events&&t.events.length?t._e():s("v-list-item",{staticClass:"text-center"},[s("v-list-item-title",[t._v("No Event!")])],1)],2)],1)],1)},i=[],n=a("94ed"),r=a("cbec"),c=a("bb36"),l=a("ed09"),o=a("c1df"),v=a.n(o),d={props:{apiParams:{type:Object,required:!1}},setup:function(t){var e=Object(l["J"])(!1),a=Object(l["J"])([]),s=v()().format("YYYY-MM-DD"),i=function(){e.value=!0;var i=Object.assign({start_date__gte:s,page_size:5,order_by:"start_date,name"},t.apiParams);c["a"].get("cycling_org/event",{params:i}).then((function(t){e.value=!1,a.value=t.data.results}),(function(t){e.value=!1,Object(r["notifyDefaultServerError"])(t,!0)}))};return Object(l["A"])((function(){i()})),{events:a,today:s,icons:{mdiDotsVertical:n["U"],mdiCalendarBlankOutline:n["v"],mdiMapMarker:n["Gb"]}}}},m=d,u=a("2877"),_=a("6544"),p=a.n(_),f=a("8212"),b=a("8336"),g=a("b0af"),C=a("99d9"),x=a("ce7e"),h=a("132d"),O=a("adda"),y=a("8860"),V=a("da13"),j=a("1800"),w=a("5d23"),E=a("2fa4"),A=Object(u["a"])(m,s,i,!1,null,null,null);e["a"]=A.exports;p()(A,{VAvatar:f["a"],VBtn:b["a"],VCard:g["a"],VCardText:C["c"],VCardTitle:C["d"],VDivider:x["a"],VIcon:h["a"],VImg:O["a"],VList:y["a"],VListItem:V["a"],VListItemAction:j["a"],VListItemActionText:w["a"],VListItemContent:w["b"],VListItemSubtitle:w["c"],VListItemTitle:w["d"],VSpacer:E["a"]})},4463:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"public-org-profile-view"}},[t.event.id?s("v-row",[s("v-col",{attrs:{md:"12",sm:"12",cols:"12"}},[s("v-card",{staticClass:"banner"},[s("img",{staticClass:"white--text align-end banner-img",attrs:{src:t.event.prefs.banner_image||t.$store.state.sitePrefs.site_ui__default_event_banner_image||a("7b98")}}),s("v-card-text",{staticClass:"position-relative"},[s("v-avatar",{staticClass:"avatar-center",attrs:{size:"60",color:"white"}},[s("v-img",{attrs:{src:t.event.logo||a("66cb")}})],1),s("div",{staticClass:"d-flex justify-space-between flex-wrap pt-12"},[s("div",{staticClass:"me-2 mb-2"},[s("h2",{staticClass:"pt-0 px-0"},[t._v(" "+t._s(t.event.name)+" ")]),t.event.organization?s("h3",{staticClass:"pt-0 pb-1 px-0 text-caption"},[t._v(" "+t._s(t.event._organization.name)+" ")]):t._e(),s("v-card-subtitle",{staticClass:"text-xs pa-0"},[s("v-icon",{staticClass:"mr-1",attrs:{size:"15"}},[t._v(t._s(t.icons.mdiCalendar))]),s("span",[t._v(t._s(t.$utils.formatDate(t.event.start_date,"MMM D, YYYY")))]),t.event.end_date?s("span",[t._v(" - "+t._s(t.$utils.formatDate(t.event.end_date,"MMM D, YYYY")))]):t._e()],1),s("v-card-subtitle",{staticClass:"text-xs pa-0 pt-1"},[s("v-icon",{staticClass:"mr-1",attrs:{size:"15"}},[t._v(t._s(t.icons.mdiMapMarker))]),s("span",[t._v(t._s(t.event.country||"")+t._s(t.event.state?", "+t.event.state:"")+t._s(t.event.city?", "+t.event.city:""))])],1)],1),s("div",{staticClass:"d-flex me-8 mb-4"},[s("v-avatar",{staticClass:"v-avatar-light-bg primary--text me-3",attrs:{size:"40",rounded:"",color:"primary"}},[s("v-icon",{attrs:{color:"primary",size:"22"}},[t._v(" "+t._s(t.icons.mdiBike)+" ")])],1),s("div",[s("h3",{staticClass:"text-xl font-weight-medium mb-n1"},[t._v(" "+t._s(t.event.summary.races_count||0)+" ")]),s("span",[t._v("Races")])])],1),s("div",{staticClass:"d-flex mb-4 me-4"},[s("v-avatar",{staticClass:"v-avatar-light-bg primary--text me-3",attrs:{size:"40",rounded:"",color:"primary"}},[s("v-icon",{attrs:{color:"primary",size:"22"}},[t._v(" "+t._s(t.icons.mdiBikeFast)+" ")])],1),s("div",[s("h3",{staticClass:"text-xl font-weight-medium mb-n1"},[t._v(" "+t._s(t.event.summary.race_series_count||0)+" ")]),s("span",[t._v("Race Series")])])],1)]),s("div",{staticClass:"mt-4"},[s("div",{domProps:{innerHTML:t._s(t.event.description)}})]),s("div",{staticClass:"d-flex justify-space-between flex-wrap align-center mt-8 pa-0"},[s("div",[s("v-icon",{staticClass:"me-1",attrs:{size:"20"}},[t._v(" "+t._s(t.icons.mdiWeb)+" ")]),t.event.website?s("a",{staticClass:"font-weight-medium text-sm me-4 text-decoration-none",attrs:{href:t.event.website,target:"_blank"}},[t._v(" "+t._s(t.event.website)+" ")]):s("span",{staticClass:"text-sm me-4"},[t._v("-")])],1),s("div",[s("v-icon",{staticClass:"me-1",attrs:{size:"20"}},[t._v(" "+t._s(t.icons.mdiWeb)+" ")]),t.event.registration_website?s("a",{staticClass:"font-weight-medium text-sm me-4 text-decoration-none",attrs:{href:t.event.registration_website,target:"_blank"}},[t._v(" "+t._s(t.event.registration_website)+" ")]):s("span",{staticClass:"text-sm me-4"},[t._v("-")])],1),s("div",[s("v-icon",{staticClass:"me-1",attrs:{size:"20"}},[t._v(" "+t._s(t.icons.mdiEmail)+" ")]),t.event.organizer_email?s("a",{staticClass:"font-weight-medium text-sm me-4 text-decoration-none",attrs:{href:"mailto:"+t.event.organizer_email,target:"_blank"}},[t._v(" "+t._s(t.event.organizer_email)+" ")]):s("span",{staticClass:"text-sm me-4"},[t._v("-")])],1)])],1)],1)],1),t.event.prefs.information_board_content?s("v-col",{staticClass:"pt-0",attrs:{cols:"12"}},[s("v-card",{staticClass:"d-flex"},[s("v-card-text",{staticClass:"ck-content",domProps:{innerHTML:t._s(t.event.prefs.information_board_content)}})],1)],1):t._e(),s("v-col",{attrs:{cols:"12",md:"6"}},[s("event-races-widget",{staticClass:"home-widget",attrs:{event:t.event}})],1),s("v-col",{attrs:{cols:"12",md:"6"}},[s("event-race-series-widget",{staticClass:"home-widget",attrs:{event:t.event}})],1)],1):t._e()],1)},i=[],n=a("ed09"),r=a("94ed"),c=a("bb36"),l=a("cbec"),o=a("ac43"),v=a("a926"),d=a("2405"),m=a("6063"),u=a("0e30"),_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",{staticClass:"align-start pb-3 pt-5"},[a("span",[t._v("Race List")])]),a("v-divider"),a("v-data-table",{staticClass:"text-no-wrap",attrs:{headers:t.tableColumns,items:t.races,options:t.tableOptions,"server-items-length":t.pagination.total,loading:t.loading,"footer-props":{"items-per-page-options":t.$const.DEFAULT_TABLE_PER_PAGE_OPTIONS,"show-current-page":!0,"show-first-last-page":!0}},on:{"update:options":[function(e){t.tableOptions=e},function(e){return t.loadRaces()}]},scopedSlots:t._u([{key:"item.name",fn:function(e){var s=e.item;return[a("span",{staticClass:"text-truncate font-weight-semibold"},[t._v(" "+t._s(s.name)+" ")])]}},{key:"item.start_datetime",fn:function(e){var s=e.item;return[s.start_datetime?[a("span",{staticClass:"pr-1"},[t._v(t._s(t.$utils.formatDate(s.start_datetime,"MMM D, YYYY")))]),a("span",{staticClass:"text-caption"},[t._v(t._s(t.$utils.formatDate(s.start_datetime,"HH:mm")))])]:a("span",[t._v("-")])]}}])})],1)},p=[],f=(a("c1df"),a("0e20")),b={props:{event:{type:Object,required:!0}},setup:function(t){var e=Object(n["J"])([]),a=Object(n["J"])({total:0}),s=Object(n["J"])(!1),i=Object(n["J"])({}),o=Object(n["J"])({}),v=function(n){n&&(i.value.page=n);var r=Object.assign({event:t.event.id},o.value,Object(l["refineVTableOptions"])(i.value));s.value=!0,c["a"].get("cycling_org/race/",{params:r}).then((function(t){s.value=!1,e.value=t.data.results,a.value=t.data.pagination}),(function(t){s.value=!1,Object(l["notifyDefaultServerError"])(t,!0)}))};Object(n["A"])((function(){v()}));var d=[{text:"#ID",value:"id",align:"start"},{text:"NAME",value:"name"},{text:"STARTED AT",value:"start_datetime"}];return{races:e,tableOptions:i,tableFiltering:o,loading:s,pagination:a,tableColumns:d,avatarText:f["a"],loadRaces:v,icons:{mdiAccountCheck:r["c"],mdiPodiumGold:r["Pb"]}}}},g=b,C=a("2877"),x=a("6544"),h=a.n(x),O=a("b0af"),y=a("99d9"),V=a("8fea"),j=a("ce7e"),w=Object(C["a"])(g,_,p,!1,null,null,null),E=w.exports;h()(w,{VCard:O["a"],VCardTitle:y["d"],VDataTable:V["a"],VDivider:j["a"]});var A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",{staticClass:"align-start pb-3 pt-5"},[a("span",[t._v("Race-Series List")])]),a("v-divider"),a("v-data-table",{staticClass:"text-no-wrap",attrs:{headers:t.tableColumns,items:t.raceSeries,options:t.tableOptions,"server-items-length":t.pagination.total,loading:t.loading,"footer-props":{"items-per-page-options":t.$const.DEFAULT_TABLE_PER_PAGE_OPTIONS,"show-current-page":!0,"show-first-last-page":!0}},on:{"update:options":[function(e){t.tableOptions=e},function(e){return t.loadRaceSeries()}]},scopedSlots:t._u([{key:"item.name",fn:function(e){var s=e.item;return[a("span",{staticClass:"text-truncate font-weight-semibold"},[t._v(" "+t._s(s.name)+" ")])]}},{key:"item.start_datetime",fn:function(e){var s=e.item;return[s.start_datetime?[a("span",{staticClass:"pr-1"},[t._v(t._s(t.$utils.formatDate(s.start_datetime,"MMM D, YYYY")))]),a("span",{staticClass:"text-caption"},[t._v(t._s(t.$utils.formatDate(s.start_datetime,"HH:mm")))])]:a("span",[t._v("-")])]}}])})],1)},T=[],R={props:{event:{type:Object,required:!0}},setup:function(t){var e=Object(n["J"])([]),a=Object(n["J"])({total:0}),s=Object(n["J"])(!1),i=Object(n["J"])({}),o=Object(n["J"])({}),v=function(n){n&&(i.value.page=n);var r=Object.assign({event:t.event.id,fields:"id,name,start_datetime"},o.value,Object(l["refineVTableOptions"])(i.value));s.value=!0,c["a"].get("cycling_org/race_series/",{params:r}).then((function(t){s.value=!1,e.value=t.data.results,a.value=t.data.pagination}),(function(t){s.value=!1,Object(l["notifyDefaultServerError"])(t,!0)}))};Object(n["A"])((function(){v()}));var d=[{text:"#ID",value:"id",align:"start"},{text:"NAME",value:"name"},{text:"STARTED AT",value:"start_datetime"}];return{raceSeries:e,tableOptions:i,tableFiltering:o,loading:s,pagination:a,tableColumns:d,avatarText:f["a"],loadRaceSeries:v,icons:{mdiAccountCheck:r["c"],mdiPodiumGold:r["Pb"]}}}},D=R,k=Object(C["a"])(D,A,T,!1,null,null,null),P=k.exports;h()(k,{VCard:O["a"],VCardTitle:y["d"],VDataTable:V["a"],VDivider:j["a"]});var M={components:{EventRaceSeriesWidget:P,EventRacesWidget:E,UpcomingEventsWidget:u["a"],RecentRaceResultsWidget:m["a"],OrganizationRaceResultsTab:v["a"]},setup:function(){var t=Object(o["a"])(),e=t.rootThemeClasses,a=Object(d["e"])(),s=a.route,i=Object(n["J"])(null),v=Object(n["J"])({}),m=s.value.params.record_id,u=function(){c["a"].get("cycling_org/event/".concat(m),{params:{exfields:"summary"}}).then((function(t){var e=t.data;e.summary||(e.summary={}),v.value=e}),(function(t){Object(l["notifyDefaultServerError"])(t,!0)}))};return Object(n["A"])((function(){i.value=void 0!==s.value.params.tab?s.value.params.tab:0,u()})),{rootThemeClasses:e,event:v,loadEvent:u,tab:i,icons:{mdiFlagCheckered:r["gb"],mdiAccountPlus:r["j"],mdiOfficeBuildingCog:r["Jb"],mdiAccountMultipleOutline:r["h"],mdiBike:r["r"],mdiBikeFast:r["s"],mdiEmail:r["W"],mdiPhone:r["Lb"],mdiCalendar:r["u"],mdiMapMarker:r["Gb"],mdiWeb:r["Zb"]}}}},S=M,I=(a("fa53"),a("8212")),z=a("62ad"),L=a("132d"),Y=a("adda"),$=a("0fd9"),J=Object(C["a"])(S,s,i,!1,null,null,null);e["default"]=J.exports;h()(J,{VAvatar:I["a"],VCard:O["a"],VCardSubtitle:y["b"],VCardText:y["c"],VCol:z["a"],VIcon:L["a"],VImg:Y["a"],VRow:$["a"]})},6063:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",{staticClass:"align-start pb-3 pt-5"},[a("span",[t._v("Recent Winners")]),a("v-spacer"),a("v-btn",{attrs:{text:"",color:"info",to:{name:t.$rns.PUBLIC_RACE_RESULTS,query:{organization:(t.apiParams||{}).organization}},"x-small":""}},[t._v("View All")])],1),a("v-divider"),a("v-data-table",{staticClass:"table-rounded",attrs:{headers:t.tableColumns,items:t.raceResults,"item-key":"fullName","hide-default-footer":""},scopedSlots:t._u([{key:"item.rider",fn:function(e){var s=e.item;return[a("div",{staticClass:"d-flex align-center"},[a("v-avatar",{staticClass:"v-avatar-light-bg success--text",attrs:{color:"success",size:"30"}},[s._rider&&s._rider._user.avatar?a("v-img",{attrs:{src:s._rider._user.avatar}}):a("span",{staticClass:"font-weight-medium"},[t._v(" "+t._s(t.avatarText(s._rider?s._rider.first_name:s.more_data.first_name||"N/A"))+" ")])],1),a("div",{staticClass:"d-flex flex-column pl-1"},[s.rider?a("router-link",{tag:"a",staticClass:"font-weight-semibold text-truncate text-decoration-none",attrs:{to:{name:t.$rns.PUBLIC_RIDER_PROFILE,params:{record_id:s.rider}}}},[s._rider?a("v-icon",{attrs:{small:""}},[t._v(t._s(t.icons.mdiAccountCheck))]):t._e(),t._v(" "+t._s(t.displayRiderName(s))+" ")],1):a("span",{staticClass:"font-weight-semibold text-truncate text-decoration-none"},[t._v(" "+t._s(t.displayRiderName(s))+" ")])],1)],1)]}},{key:"item.race",fn:function(e){var s=e.item;return[a("div",{staticClass:"d-flex flex-column"},[a("span",{staticClass:"font-weight-semibold text-truncate"},[t._v(" "+t._s(s._race.name)+" ")]),a("span",{staticClass:"text-xs text-truncate"},[t._v(" "+t._s(s._race._event.name)+" ")])])]}},{key:"item.place",fn:function(e){var s=e.item;return["ok"==s.finish_status?[a("span",{staticClass:"font-weight-semibold"},[t._v(t._s(s.place||"N/A"))]),1==s.place?a("v-icon",{staticClass:"ml-1",attrs:{size:"20",color:"warning"}},[t._v(t._s(t.icons.mdiPodiumGold))]):t._e()]:a("v-chip",{attrs:{outlined:"",color:(t.$const.RACE_FINISH_STATUS_MAP[s.finish_status]||{}).css,small:""}},[t._v(" "+t._s((t.$const.RACE_FINISH_STATUS_MAP[s.finish_status]||{}).title||s.finish_status)+" ")])]}}])})],1)},i=[],n=(a("498a"),a("99af"),a("94ed")),r=a("ed09"),c=(a("c1df"),a("bb36")),l=a("cbec"),o=a("0e20"),v={props:{apiParams:{type:Object,required:!1}},setup:function(t){var e=Object(r["J"])([]),a=Object(r["J"])(!1),s=function(){a.value=!0;var s=Object.assign({exfields:"more_data",page_size:6,place:1,order_by:"-id"},t.apiParams);c["a"].get("cycling_org/race_result",{params:s}).then((function(t){a.value=!1,e.value=t.data.results}),(function(t){a.value=!1,Object(l["notifyDefaultServerError"])(t,!0)}))},i=function(t){var e="";return e=t._rider?"".concat(t._rider.first_name," ").concat(t._rider.last_name).trim():"".concat(t.more_data.first_name||""," ").concat(t.more_data.last_name||"").trim(),e||"N/A"};Object(r["A"])((function(){s()}));var v=[{text:"RIDER",value:"rider"},{text:"RACE",value:"race",cellClass:"race-td"},{text:"PLACE",value:"place"}];return{raceResults:e,tableColumns:v,avatarText:o["a"],displayRiderName:i,icons:{mdiAccountCheck:n["c"],mdiPodiumGold:n["Pb"]}}}},d=v,m=a("2877"),u=a("6544"),_=a.n(u),p=a("8212"),f=a("8336"),b=a("b0af"),g=a("99d9"),C=a("cc20"),x=a("8fea"),h=a("ce7e"),O=a("132d"),y=a("adda"),V=a("2fa4"),j=Object(m["a"])(d,s,i,!1,null,null,null);e["a"]=j.exports;_()(j,{VAvatar:p["a"],VBtn:f["a"],VCard:b["a"],VCardTitle:g["d"],VChip:C["a"],VDataTable:x["a"],VDivider:h["a"],VIcon:O["a"],VImg:y["a"],VSpacer:V["a"]})},a4e0:function(t,e,a){},fa53:function(t,e,a){"use strict";a("a4e0")}}]);
//# sourceMappingURL=chunk-1c71e76c.12601719.js.map