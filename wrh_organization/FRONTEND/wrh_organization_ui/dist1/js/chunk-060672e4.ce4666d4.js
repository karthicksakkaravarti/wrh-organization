(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-060672e4"],{1404:function(e,t,a){},"23a7":function(e,t,a){"use strict";var i=a("2909"),n=a("5530"),s=a("53ca"),r=(a("a9e3"),a("caad"),a("a623"),a("d3b7"),a("13d5"),a("d81d"),a("b0c0"),a("99af"),a("a434"),a("4160"),a("159b"),a("fb6a"),a("5803"),a("2677")),l=a("cc20"),c=a("80d2"),o=a("d9bd"),u=a("d9f7");t["a"]=r["a"].extend({name:"v-file-input",model:{prop:"value",event:"change"},props:{chips:Boolean,clearable:{type:Boolean,default:!0},counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,placeholder:String,prependIcon:{type:String,default:"$file"},readonly:{type:Boolean,default:!1},showSize:{type:[Boolean,Number],default:!1,validator:function(e){return"boolean"===typeof e||[1e3,1024].includes(e)}},smallChips:Boolean,truncateLength:{type:[Number,String],default:22},type:{type:String,default:"file"},value:{default:void 0,validator:function(e){return Object(c["I"])(e).every((function(e){return null!=e&&"object"===Object(s["a"])(e)}))}}},computed:{classes:function(){return Object(n["a"])(Object(n["a"])({},r["a"].options.computed.classes.call(this)),{},{"v-file-input":!0})},computedCounterValue:function(){var e=this.multiple&&this.lazyValue?this.lazyValue.length:this.lazyValue instanceof File?1:0;if(!this.showSize)return this.$vuetify.lang.t(this.counterString,e);var t=this.internalArrayValue.reduce((function(e,t){var a=t.size,i=void 0===a?0:a;return e+i}),0);return this.$vuetify.lang.t(this.counterSizeString,e,Object(c["x"])(t,1024===this.base))},internalArrayValue:function(){return Object(c["I"])(this.internalValue)},internalValue:{get:function(){return this.lazyValue},set:function(e){this.lazyValue=e,this.$emit("change",this.lazyValue)}},isDirty:function(){return this.internalArrayValue.length>0},isLabelActive:function(){return this.isDirty},text:function(){var e=this;return this.isDirty||!this.persistentPlaceholder&&!this.isFocused&&this.hasLabel?this.internalArrayValue.map((function(t){var a=t.name,i=void 0===a?"":a,n=t.size,s=void 0===n?0:n,r=e.truncateText(i);return e.showSize?"".concat(r," (").concat(Object(c["x"])(s,1024===e.base),")"):r})):[this.placeholder]},base:function(){return"boolean"!==typeof this.showSize?this.showSize:void 0},hasChips:function(){return this.chips||this.smallChips}},watch:{readonly:{handler:function(e){!0===e&&Object(o["b"])("readonly is not supported on <v-file-input>",this)},immediate:!0},value:function(e){var t=this.multiple?e:e?[e]:[];Object(c["k"])(t,this.$refs.input.files)||(this.$refs.input.value="")}},methods:{clearableCallback:function(){this.internalValue=this.multiple?[]:null,this.$refs.input.value=""},genChips:function(){var e=this;return this.isDirty?this.text.map((function(t,a){return e.$createElement(l["a"],{props:{small:e.smallChips},on:{"click:close":function(){var t=e.internalValue;t.splice(a,1),e.internalValue=t}}},[t])})):[]},genControl:function(){var e=r["a"].options.methods.genControl.call(this);return this.hideInput&&(e.data.style=Object(u["d"])(e.data.style,{display:"none"})),e},genInput:function(){var e=r["a"].options.methods.genInput.call(this);return e.data.attrs.multiple=this.multiple,delete e.data.domProps.value,delete e.data.on.input,e.data.on.change=this.onInput,[this.genSelections(),e]},genPrependSlot:function(){var e=this;if(!this.prependIcon)return null;var t=this.genIcon("prepend",(function(){e.$refs.input.click()}));return this.genSlot("prepend","outer",[t])},genSelectionText:function(){var e=this.text.length;return e<2?this.text:this.showSize&&!this.counter?[this.computedCounterValue]:[this.$vuetify.lang.t(this.counterString,e)]},genSelections:function(){var e=this,t=[];return this.isDirty&&this.$scopedSlots.selection?this.internalArrayValue.forEach((function(a,i){e.$scopedSlots.selection&&t.push(e.$scopedSlots.selection({text:e.text[i],file:a,index:i}))})):t.push(this.hasChips&&this.isDirty?this.genChips():this.genSelectionText()),this.$createElement("div",{staticClass:"v-file-input__text",class:{"v-file-input__text--placeholder":this.placeholder&&!this.isDirty,"v-file-input__text--chips":this.hasChips&&!this.$scopedSlots.selection}},t)},genTextFieldSlot:function(){var e=this,t=r["a"].options.methods.genTextFieldSlot.call(this);return t.data.on=Object(n["a"])(Object(n["a"])({},t.data.on||{}),{},{click:function(){return e.$refs.input.click()}}),t},onInput:function(e){var t=Object(i["a"])(e.target.files||[]);this.internalValue=this.multiple?t:t[0],this.initialValue=this.internalValue},onKeyDown:function(e){this.$emit("keydown",e)},truncateText:function(e){if(e.length<Number(this.truncateLength))return e;var t=Math.floor((Number(this.truncateLength)-1)/2);return"".concat(e.slice(0,t),"â€¦").concat(e.slice(e.length-t))}}})},2677:function(e,t,a){"use strict";var i=a("8654");t["a"]=i["a"]},"2fa1":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{persistent:"",width:"500"},model:{value:e.isVisible,callback:function(t){e.isVisible=t},expression:"isVisible"}},[a("v-card",{staticClass:"org-import-members-card"},[a("v-form",{on:{submit:function(t){return t.preventDefault(),e.importCsv()}}},[a("v-card-title",{staticClass:"headline"},[e._v(" Import Race Results From CSV ")]),e.race?a("v-card-text",[a("div",[e._v("Event: "),a("span",{staticClass:"font-weight-semibold"},[e._v(e._s(e.race._event.name))])]),a("div",[e._v("Race: "),a("span",{staticClass:"font-weight-semibold"},[e._v(e._s(e.race.name))])])]):e._e(),a("v-divider"),a("v-card-text",[a("v-file-input",{ref:"csvFileRef",attrs:{"show-size":"","prepend-icon":e.icons.mdiFileExcel,label:"Choose a CSV file","hide-details":"",accept:".csv"},on:{change:e.onChangeFile}})],1),a("v-card-text",[a("app-card-actions",{ref:"csvColsCardRef",attrs:{"action-collapse":"",flat:"",outlined:""},scopedSlots:e._u([{key:"title",fn:function(){return[a("v-icon",{staticClass:"mr-2"},[e._v(e._s(e.icons.mdiInformationOutline))]),e._v(" CSV Columns ")]},proxy:!0}])},[a("v-card-text",[e._v(" Your csv file should contains this required columns: "),a("ul",[a("li",[e._v("uuid")]),a("li",[e._v("first_name")]),a("li",[e._v("last_name")]),a("li",[e._v("place")])]),e._v(" and this optional columns "),a("ul",[a("li",[e._v("category_place")]),a("li",[e._v("elapsed_time")]),a("li",[e._v("lap_down")])])])],1)],1),e.failedRecords&&e.failedRecords.length?a("v-card-text",[a("app-card-actions",{attrs:{"action-collapse":"",flat:"",outlined:"",color:"warning"},scopedSlots:e._u([{key:"title",fn:function(){return[a("v-icon",[e._v(e._s(e.icons.mdiAlertOutline))]),e._v(" Failed Records ")]},proxy:!0}],null,!1,4268727094)},[a("pre",{staticClass:"failed-records"},[e._v(e._s(JSON.stringify(e.failedRecords,null,2)))])])],1):e._e(),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"secondary",outlined:""},on:{click:function(t){return e.hide()}}},[e._v("Close")]),a("v-btn",{attrs:{color:"primary",type:"submit",loading:e.importing,disabled:!e.csvFile}},[e._v("Import")])],1)],1)],1)],1)},n=[],s=(a("99af"),a("94ed")),r=a("ed09"),l=a("bb36"),c=a("cbec"),o=a("6ea7"),u={components:{AppCardActions:o["a"]},props:{organization:{type:Object,required:!0}},setup:function(e,t){var a=Object(r["J"])(!1),i=Object(r["J"])(!1),n=Object(r["J"])(null),o=Object(r["J"])(null),u=Object(r["J"])(null),d=Object(r["J"])([]),v=Object(r["J"])(null),f=function(){a.value=!1},m=function(e){n.value=null,i.value=!1,d.value=[],a.value=!0,v.value=e},p=function(e){n.value=e||null},_=function(){i.value=!0;var a=new FormData,s=e.organization.id,r=v.value.id;a.append("file",n.value),l["a"].post("cycling_org/race_result/organization/".concat(s,"/race/").concat(r,"/import_from_csv"),a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){i.value=!1,t.emit("import-successed"),Object(c["notifyInfo"])("Race Results imported. ".concat(e.data.successed," successed. ").concat(e.data.failed.length," failed.")),d.value=e.data.failed,o.value.clearableCallback(),d.value&&d.value.length&&!u.value.isContentCollapsed&&u.value.triggerCollapse()}),(function(e){i.value=!1,Object(c["notifyDefaultServerError"])(e,!0)}))};return{isVisible:a,importing:i,csvFile:n,csvFileRef:o,csvColsCardRef:u,show:m,hide:f,importCsv:_,onChangeFile:p,failedRecords:d,race:v,icons:{mdiFileExcel:s["db"],mdiInformationOutline:s["vb"],mdiAlertOutline:s["m"]}}}},d=u,v=(a("736e"),a("2877")),f=a("6544"),m=a.n(f),p=a("8336"),_=a("b0af"),b=a("99d9"),h=a("169a"),g=a("ce7e"),C=a("23a7"),y=a("4bd4"),x=a("132d"),R=a("2fa4"),O=Object(v["a"])(d,i,n,!1,null,null,null);t["a"]=O.exports;m()(O,{VBtn:p["a"],VCard:_["a"],VCardActions:b["a"],VCardText:b["c"],VCardTitle:b["d"],VDialog:h["a"],VDivider:g["a"],VFileInput:C["a"],VForm:y["a"],VIcon:x["a"],VSpacer:R["a"]})},5803:function(e,t,a){},"6ea7":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-expand-transition",[a("v-card",e._g(e._b({directives:[{name:"show",rawName:"v-show",value:!e.isRemoved,expression:"!isRemoved"}]},"v-card",e.$attrs,!1),e.$listeners),[a("v-card-title",[e._t("title"),a("v-spacer"),a("div",[e._t("before-actions"),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:(!(e.actionRefresh||e.actionRemove)||e.actionCollapse)&&!e.noActions,expression:"(!(actionRefresh || actionRemove) || actionCollapse) && !noActions"}],attrs:{icon:"",small:""},on:{click:e.triggerCollapse}},[a("v-icon",{style:{transform:e.isContentCollapsed?"rotate(-180deg)":null},attrs:{size:"20"}},[e._v(" "+e._s(e.icons.mdiChevronUp)+" ")])],1),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:(!(e.actionCollapse||e.actionRemove)||e.actionRefresh)&&!e.noActions,expression:"(!(actionCollapse || actionRemove) || actionRefresh) && !noActions"}],attrs:{icon:"",small:""},on:{click:e.triggerRefresh}},[a("v-icon",{attrs:{size:"20"}},[e._v(" "+e._s(e.icons.mdiRefresh)+" ")])],1),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:(!(e.actionCollapse||e.actionRefresh)||e.actionRemove)&&!e.noActions,expression:"(!(actionCollapse || actionRefresh) || actionRemove) && !noActions"}],attrs:{icon:"",small:""},on:{click:e.triggerRemove}},[a("v-icon",{attrs:{size:"20"}},[e._v(" "+e._s(e.icons.mdiClose)+" ")])],1),e._t("after-actions")],2)],2),a("v-expand-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isContentCollapsed,expression:"!isContentCollapsed"}]},[e._t("default")],2)]),a("v-overlay",{attrs:{absolute:"",color:"white",opacity:"0.75"},model:{value:e.showOverlay,callback:function(t){e.showOverlay=t},expression:"showOverlay"}},[a("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)],1)],1)},n=[],s=a("ed09"),r=a("94ed"),l={inheritAttrs:!1,props:{collapsed:{type:Boolean,default:!1},noActions:{type:Boolean,default:!1},actionCollapse:{type:Boolean,default:!1},actionRefresh:{type:Boolean,default:!1},actionRemove:{type:Boolean,default:!1}},setup:function(e,t){var a=t.emit,i=Object(s["J"])(!1),n=Object(s["J"])(e.collapsed),l=Object(s["J"])(!1),c=function(){i.value=!1},o=function(){n.value=!n.value,a("collapsed",n.value)},u=function(){i.value=!0,a("refresh",c)},d=function(){l.value=!0,a("removed")};return{showOverlay:i,isContentCollapsed:n,isRemoved:l,triggerRefresh:u,triggerCollapse:o,triggerRemove:d,icons:{mdiChevronUp:r["L"],mdiRefresh:r["Sb"],mdiClose:r["O"]}}}},c=l,o=a("2877"),u=a("6544"),d=a.n(u),v=a("8336"),f=a("b0af"),m=a("99d9"),p=a("0789"),_=a("132d"),b=a("a797"),h=a("490a"),g=a("2fa4"),C=Object(o["a"])(c,i,n,!1,null,null,null);t["a"]=C.exports;d()(C,{VBtn:v["a"],VCard:f["a"],VCardTitle:m["d"],VExpandTransition:p["a"],VIcon:_["a"],VOverlay:b["a"],VProgressCircular:h["a"],VSpacer:g["a"]})},"736e":function(e,t,a){"use strict";a("1404")},8248:function(e,t,a){"use strict";a("b55e")},a870:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.isVisible,callback:function(t){e.isVisible=t},expression:"isVisible"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"headline"},[e._v(e._s(e.isEditMode?"Edit Race Result #"+e.record.id:"New Race Result"))])]),i("v-form",{staticClass:"race-result-form",on:{submit:function(t){return t.preventDefault(),e.save.apply(null,arguments)}}},[i("v-card-text",[i("v-container",[i("v-row",[e.record._race||e.currentRace?i("v-col",{attrs:{cols:"12"}},[i("div",[e._v("Event: "),i("span",{staticClass:"font-weight-semibold"},[e._v(e._s((e.record._race||e.currentRace)._event.name))])]),i("div",[e._v("Race: "),i("span",{staticClass:"font-weight-semibold"},[e._v(e._s((e.record._race||e.currentRace).name))])])]):e._e(),i("v-col",{attrs:{cols:"12 pt-0"}},[i("v-divider")],1)],1),i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("v-autocomplete",{attrs:{"search-input":e.memberSearchInput,loading:e.findingMembers,items:e.members,"no-data-text":"Enter part of name or email.",chips:"",label:"Linked Rider","item-text":"first_name","item-value":"id","menu-props":{contentClass:"list-style"},"return-object":"",dense:""},on:{"update:searchInput":function(t){e.memberSearchInput=t},"update:search-input":function(t){e.memberSearchInput=t}},scopedSlots:e._u([{key:"selection",fn:function(t){return[i("v-chip",e._b({attrs:{"input-value":t.selected,close:""},on:{click:t.select,"click:close":function(t){e.record._rider=null}}},"v-chip",t.attrs,!1),[i("v-avatar",{attrs:{left:""}},[i("v-img",{attrs:{src:t.item._user.avatar||a("35b9")}})],1),i("div",{staticClass:"d-flex flex-column ms-3"},[i("span",{staticClass:"d-block text--success font-weight-semibold text-truncate"},[e._v(" "+e._s(t.item.first_name+" "+t.item.last_name)+" ")])])],1)]}},{key:"item",fn:function(t){return[[i("v-list-item-avatar",[i("v-img",{attrs:{src:t.item._user.avatar||a("35b9")}})],1),i("v-list-item-content",[i("v-list-item-title",[e._v(" "+e._s(t.item.first_name+" "+t.item.last_name)+" ")]),i("v-list-item-subtitle",[e._v(" "+e._s(t.item.email||"[NO E-MAIL]")+" ")])],1)]]}}]),model:{value:e.record._rider,callback:function(t){e.$set(e.record,"_rider",t)},expression:"record._rider"}})],1),i("v-col",{attrs:{cols:"12",md:"6"}},[i("v-text-field",{attrs:{label:"First Name",dense:""},model:{value:e.record.more_data.first_name,callback:function(t){e.$set(e.record.more_data,"first_name",t)},expression:"record.more_data.first_name"}})],1),i("v-col",{attrs:{cols:"12",md:"6"}},[i("v-text-field",{attrs:{label:"Last Name",dense:""},model:{value:e.record.more_data.last_name,callback:function(t){e.$set(e.record.more_data,"last_name",t)},expression:"record.more_data.last_name"}})],1),i("v-col",{attrs:{cols:"12"}},[i("div",{staticClass:"d-flex"},[i("v-text-field",{attrs:{type:"number",min:"1",step:"1",dense:"",label:"Place",disabled:"ok"!=e.record.finish_status},model:{value:e.record.place,callback:function(t){e.$set(e.record,"place",t)},expression:"record.place"}}),i("v-radio-group",{staticClass:"mt-0 mb-1",attrs:{row:"",dense:"","hide-details":""},model:{value:e.record.finish_status,callback:function(t){e.$set(e.record,"finish_status",t)},expression:"record.finish_status"}},e._l(e.$const.RACE_FINISH_STATUS_OPTIONS,(function(e){return i("v-radio",{key:e.value,attrs:{label:e.title,value:e.value}})})),1)],1)]),e.isEditMode?i("v-col",{attrs:{cols:"12"}},[i("app-card-actions",{staticClass:"more-data-card",attrs:{"action-collapse":"",flat:"",outlined:"",collapsed:"",color:"#f3f3f3"},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" More Data ... ")]},proxy:!0}],null,!1,3474084598)},[i("v-card-text",[i("v-row",[e._l(e.moreDataFiltered,(function(t,a){return i("v-col",{key:a,attrs:{cols:"12",md:"6"}},[i("div",{staticClass:"font-weight-semibold"},[e._v(e._s(a)+":")]),i("div",[e._v(e._s(null==t||""==t?"-":t))])])})),Object.keys(e.moreDataFiltered).length?e._e():i("v-col",{attrs:{cols:"12"}},[i("div",{staticClass:"text-center text-caption"},[e._v("No Extra Fields!")])])],2)],1)],1)],1):e._e()],1)],1)],1),e.confirmDelete?i("v-card-text",[i("v-alert",{attrs:{type:"warning",dense:"",text:"",icon:e.icons.mdiAlert}},[i("p",[e._v("If you delete it, all related records will be deleted! Are you sure?")]),i("v-btn",{attrs:{color:"error",outlined:"",small:"",loading:e.deleting},on:{click:function(t){return e.deleteRecord()}}},[e._v("Yes, Delete It")]),i("v-btn",{staticClass:"ml-1",attrs:{color:"secondary",small:"",text:""},on:{click:function(t){e.confirmDelete=!1}}},[e._v("Cancel")])],1)],1):e._e(),i("v-card-actions",[e.isEditMode?[i("v-btn",{attrs:{color:"error",outlined:"",disabled:e.confirmDelete},on:{click:function(t){e.confirmDelete=!0}}},[i("v-icon",[e._v(e._s(e.icons.mdiDelete))]),e._v("Delete ")],1)]:e._e(),i("v-spacer"),i("v-btn",{attrs:{color:"secondary",outlined:""},on:{click:function(t){return e.hide()}}},[e._v("Close")]),i("v-btn",{attrs:{color:"primary",type:"submit",loading:e.saving}},[e._v("Save")])],2)],1)],1)],1)},n=[],s=(a("4160"),a("d3b7"),a("94ed")),r=a("ed09"),l=a("bb36"),c=a("cbec"),o=a("2ef0"),u=a.n(o),d=a("6ea7"),v={components:{AppCardActions:d["a"]},props:{organization:{type:Object,required:!0}},setup:function(e,t){var a=Object(r["J"])(!1),i=Object(r["J"])({more_data:{}}),n=Object(r["J"])(null),o=Object(r["J"])(!1),d=Object(r["J"])(!1),v=Object(r["J"])(!1),f=Object(r["J"])(!1),m=Object(r["J"])([]),p=Object(r["J"])("");Object(r["Y"])(p,(function(){g(p.value)}));var _=Object(r["b"])((function(){return!!i.value.id})),b=Object(r["b"])((function(){var e=Object.assign({},i.value.more_data);return["first_name","last_name","place"].forEach((function(t){delete e[t]})),e})),h=function(e){if(f.value||(e||"").length<3)return m.value=[],void(i.value._rider&&(m.value=[i.value._rider]));f.value=!0,l["a"].get("cycling_org/member/find",{params:{search:e}}).then((function(e){f.value=!1,m.value=e.data.results,i.value._rider&&(m.value=[i.value._rider])}),(function(e){f.value=!1,Object(c["notifyDefaultServerError"])(e,!0)}))},g=u.a.debounce(h,500),C=function(){d.value=!0,l["a"]["delete"]("cycling_org/race_result/".concat(i.value.id)).then((function(e){d.value=!1,Object(c["notifySuccess"])("Record #".concat(i.value.id," deleted.")),x(),t.emit("delete-successed",i.value)}),(function(e){d.value=!1,Object(c["notifyDefaultServerError"])(e,!0)}))},y=function(){var a=Object.assign({},i.value);a.rider=a._rider?a._rider.id:null,delete a._rider;var s="cycling_org/race_result",r=l["a"].post,u="Race Result added successfully.";_.value?(s="cycling_org/race_result/".concat(i.value.id),r=l["a"].patch,u="Race Result updated successfully."):(a.race=n.value.id,a.organization=e.organization.id),o.value=!0,r(s,a).then((function(e){o.value=!1,Object(c["notifySuccess"])(u),x(),t.emit("save-successed",e.data)}),(function(e){o.value=!1,Object(c["notifyDefaultServerError"])(e,!0)}))},x=function(){a.value=!1},R=function(e,t){i.value=Object.assign({more_data:{}},e),n.value=t||null,v.value=!1,d.value=!1,o.value=!1,a.value=!0,h()};return{isVisible:a,confirmDelete:v,isEditMode:_,moreDataFiltered:b,record:i,saving:o,deleting:d,findingMembers:f,findMembers:h,findMembersDebounce:g,members:m,memberSearchInput:p,deleteRecord:C,hide:x,show:R,save:y,currentRace:n,icons:{mdiDelete:s["T"],mdiAlert:s["l"]}}}},f=v,m=(a("d7ba2"),a("2877")),p=a("6544"),_=a.n(p),b=a("0798"),h=a("c6a6"),g=a("8212"),C=a("8336"),y=a("b0af"),x=a("99d9"),R=a("cc20"),O=a("62ad"),S=a("a523"),V=a("169a"),j=a("ce7e"),w=a("4bd4"),k=a("132d"),D=a("adda"),I=a("8270"),z=a("5d23"),A=a("67b6"),E=a("43a6"),$=a("0fd9"),F=a("2fa4"),J=a("8654"),T=Object(m["a"])(f,i,n,!1,null,null,null);t["a"]=T.exports;_()(T,{VAlert:b["a"],VAutocomplete:h["a"],VAvatar:g["a"],VBtn:C["a"],VCard:y["a"],VCardActions:x["a"],VCardText:x["c"],VCardTitle:x["d"],VChip:R["a"],VCol:O["a"],VContainer:S["a"],VDialog:V["a"],VDivider:j["a"],VForm:w["a"],VIcon:k["a"],VImg:D["a"],VListItemAvatar:I["a"],VListItemContent:z["b"],VListItemSubtitle:z["c"],VListItemTitle:z["d"],VRadio:A["a"],VRadioGroup:E["a"],VRow:$["a"],VSpacer:F["a"],VTextField:J["a"]})},a926:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"organization-profile-race-results-tab"},[a("v-card",[a("v-card-text",{staticClass:"pt-2 pb-2 pr-2 pl-2"},[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-autocomplete",{attrs:{outlined:"",dense:"",label:"Choose Event",items:e.events,"item-text":"name","item-value":"id","hide-details":"","search-input":e.eventSearchInput,loading:e.findingEvents,"no-data-text":"No Result Found! Type here to Search event","menu-props":{contentClass:"list-style"},"return-object":"",clearable:""},on:{"update:searchInput":function(t){e.eventSearchInput=t},"update:search-input":function(t){e.eventSearchInput=t}},scopedSlots:e._u([{key:"selection",fn:function(t){return[a("span",{staticClass:"d-block font-weight-medium text-truncate"},[e._v(" "+e._s(t.item.name)+" ")])]}},{key:"item",fn:function(t){return[a("v-list-item-content",[a("v-list-item-title",{staticClass:"text-sm"},[e._v(" "+e._s(t.item.name)+" ")]),a("v-list-item-subtitle",[e._v(" "+e._s(e.$utils.formatDate(t.item.start_date,"MMM D, YYYY"))+" - "+e._s(e.$utils.formatDate(t.item.end_date,"MMM D, YYYY"))+" ")])],1)]}}]),model:{value:e.selectedEvent,callback:function(t){e.selectedEvent=t},expression:"selectedEvent"}})],1),a("v-col",{attrs:{cols:"6"}},[a("v-autocomplete",{attrs:{disabled:!e.selectedEvent,outlined:"",dense:"",label:"Choose Race",items:e.races,"item-text":"name","item-value":"id","menu-props":{contentClass:"list-style"},loading:e.loadingRaces,"no-data-text":"No Race Found!","hide-details":"",clearable:"","return-object":""},scopedSlots:e._u([{key:"item",fn:function(t){return[a("v-list-item-content",[a("v-list-item-title",{staticClass:"text-sm"},[e._v(" "+e._s(t.item.name)+" ")]),a("v-list-item-subtitle",[e._v(" "+e._s(e.$utils.formatDate(t.item.start_datetime))+" ")])],1)]}}]),model:{value:e.selectedRace,callback:function(t){e.selectedRace=t},expression:"selectedRace"}})],1)],1)],1),a("v-divider"),a("v-card-text",[a("div",{staticClass:"align-center"},[a("v-btn",{staticClass:"mr-1",attrs:{fab:"","x-small":"",color:"info"},on:{click:function(t){return e.loadRecords(1)}}},[a("v-icon",[e._v(e._s(e.icons.mdiRefresh))])],1),e.organization.my_level&&e.organization.my_level.is_admin?a("v-btn",{staticClass:"me-1",attrs:{small:"",color:"primary",disabled:!e.selectedRace},on:{click:function(t){return e.$refs.formDialogRef.show(null,e.selectedRace)}}},[a("v-icon",{staticClass:"me-1",attrs:{size:"18"}},[e._v(" "+e._s(e.icons.mdiPlus)+" ")]),a("span",[e._v("Race Result")])],1):e._e(),e.organization.my_level&&e.organization.my_level.is_admin?a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"me-1",attrs:{small:"",outlined:"",color:"info",disabled:!e.selectedRace},on:{click:function(t){return e.$refs.importDialogRef.show(e.selectedRace)}}},"v-btn",n,!1),i),[a("v-icon",{staticClass:"me-1",attrs:{size:"18"}},[e._v(" "+e._s(e.icons.mdiFileExcelOutline)+" ")]),a("span",[e._v("Import")])],1)]}}],null,!1,777941798)},[a("span",[e._v("Import results from CSV file")])]):e._e(),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"me-1",attrs:{small:"",outlined:"",color:"error",href:e.exportUrl,target:"_blank",disabled:!e.selectedEvent}},"v-btn",n,!1),i),[a("v-icon",{staticClass:"me-1",attrs:{size:"18"}},[e._v(" "+e._s(e.icons.mdiFileExcelOutline)+" ")]),a("span",[e._v("Export")])],1)]}}])},[a("span",[e._v("Export results to CSV file")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[e.organization.my_level&&e.organization.my_level.is_admin?a("v-btn",e._g(e._b({staticClass:"me-1",attrs:{small:"",color:"info",disabled:!e.selectedRace||!e.selectedRows.length},on:{click:function(t){return e.$refs.raceSeriesResultsDialogRef.show(e.selectedRace,e.selectedRows)}}},"v-btn",n,!1),i),[a("v-icon",{staticClass:"me-1",attrs:{size:"18"}},[e._v(" "+e._s(e.icons.mdiPencilOutline)+" ")]),a("span",[e._v("Race-Series Result")])],1):e._e()]}}])},[a("span",[e._v("Add/Update Race-Series Results of selected rows")])])],1)]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-text-field",{staticClass:"search-input",attrs:{value:e.tableFiltering.search,dense:"",clearable:"","hide-details":"",placeholder:"Search ..."},on:{change:function(t){return e.$set(e.tableFiltering,"search",t)},"click:clear":function(t){return e.$set(e.tableFiltering,"search",null)}}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-checkbox",{staticClass:"mt-1",attrs:{"hide-details":"",label:"Include DNS/DNF?"},model:{value:e.tableFiltering.include_dns_dnf,callback:function(t){e.$set(e.tableFiltering,"include_dns_dnf",t)},expression:"tableFiltering.include_dns_dnf"}})],1)],1)],1),a("v-data-table",{staticClass:"text-no-wrap",attrs:{headers:e.tableColumns,items:e.records,options:e.tableOptions,"server-items-length":e.pagination.total,loading:e.loading,"show-select":!!e.selectedRace,"footer-props":{"items-per-page-options":e.$const.DEFAULT_TABLE_PER_PAGE_OPTIONS,"show-current-page":!0,"show-first-last-page":!0}},on:{"update:options":[function(t){e.tableOptions=t},function(t){return e.loadRecords()}]},scopedSlots:e._u([{key:"item.rider",fn:function(t){var i=t.item;return[a("div",{staticClass:"d-flex align-center"},[a("v-avatar",{staticClass:"v-avatar-light-bg success--text",attrs:{color:"success",size:"30"}},[i._rider&&i._rider._user.avatar?a("v-img",{attrs:{src:i._rider._user.avatar}}):a("span",{staticClass:"font-weight-medium"},[e._v(" "+e._s(e.avatarText(i._rider?i._rider.first_name:i.more_data.first_name||"N/A"))+" ")])],1),a("div",{staticClass:"d-flex flex-column pl-1"},[i.rider?a("router-link",{tag:"a",staticClass:"font-weight-semibold text-truncate text-decoration-none",attrs:{to:{name:e.$rns.PUBLIC_RIDER_PROFILE,params:{record_id:i.rider}},target:"_blank"}},[i._rider?a("v-icon",{attrs:{small:""}},[e._v(e._s(e.icons.mdiAccountCheck))]):e._e(),e._v(" "+e._s(e.displayRiderName(i))+" ")],1):a("span",{staticClass:"font-weight-semibold text-truncate text-decoration-none"},[e._v(" "+e._s(e.displayRiderName(i))+" ")])],1)],1)]}},{key:"item.race",fn:function(t){var i=t.item;return[a("div",{staticClass:"d-flex flex-column"},[a("span",{staticClass:"font-weight-semibold text-truncate"},[e._v(" "+e._s(i._race.name)+" ")])])]}},{key:"item.event",fn:function(t){var i=t.item;return[a("div",{staticClass:"d-flex flex-column"},[a("span",{staticClass:"text-truncate"},[e._v(" "+e._s(i._race._event.name)+" ")])]),a("span",{staticClass:"text-caption"},[e._v(" "+e._s(e.$utils.formatDate(i._race._event.start_date,"MMM D, YYYY"))+" - "+e._s(e.$utils.formatDate(i._race._event.end_date,"MMM D, YYYY"))+" ")])]}},{key:"item.create_datetime",fn:function(t){var i=t.item;return[a("span",{staticClass:"pr-1"},[e._v(e._s(e.$utils.formatDate(i.create_datetime,"M/D/YY")))]),a("span",{staticClass:"text-caption"},[e._v(e._s(e.$utils.formatDate(i.create_datetime,"HH:mm")))])]}},{key:"item.place",fn:function(t){var i=t.item;return["ok"==i.finish_status?[a("span",{staticClass:"font-weight-semibold"},[e._v(e._s(i.place||"N/A"))]),1==i.place?a("v-icon",{staticClass:"ml-1",attrs:{size:"20",color:"warning"}},[e._v(e._s(e.icons.mdiPodiumGold))]):e._e()]:a("v-chip",{attrs:{outlined:"",color:(e.$const.RACE_FINISH_STATUS_MAP[i.finish_status]||{}).css,small:""}},[e._v(" "+e._s((e.$const.RACE_FINISH_STATUS_MAP[i.finish_status]||{}).title||i.finish_status)+" ")])]}},{key:"item.actions",fn:function(t){var i=t.item;return[a("div",{staticClass:"d-flex align-end justify-end"},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({attrs:{icon:"",small:""},on:{click:function(t){return e.$refs.formDialogRef.show(i)}}},"v-btn",s,!1),n),[a("v-icon",{attrs:{size:"18"}},[e._v(" "+e._s(e.icons.mdiPencilOutline)+" ")])],1)]}}],null,!0)},[a("span",[e._v("Edit")])])],1)]}}]),model:{value:e.selectedRows,callback:function(t){e.selectedRows=t},expression:"selectedRows"}})],1),a("organization-race-result-form-dialog",{ref:"formDialogRef",attrs:{organization:e.organization},on:{"save-successed":function(t){return e.loadRecords(1)},"delete-successed":function(t){return e.loadRecords(1)}}}),a("organization-race-series-results-form-dialog",{ref:"raceSeriesResultsDialogRef",attrs:{organization:e.organization}}),a("organization-import-race-results-dialog",{ref:"importDialogRef",attrs:{organization:e.organization},on:{"import-successed":function(t){return e.loadRecords(1)}}})],1)},n=[],s=(a("498a"),a("99af"),a("94ed")),r=a("ed09"),l=(a("4360"),a("bb36")),c=a("cbec"),o=a("0e20"),u=a("a870"),d=a("2ef0"),v=a.n(d),f=a("2fa1"),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{persistent:"","max-width":"800px"},model:{value:e.isVisible,callback:function(t){e.isVisible=t},expression:"isVisible"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Edit Race Series Results")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"d-flex"},[a("span",{staticClass:"mr-2"},[e._v("Race: ")]),e.race?a("div",{staticClass:"d-flex flex-column"},[a("span",{staticClass:"font-weight-semibold text-truncate"},[e._v(" "+e._s(e.race.name)+" ")]),a("span",{staticClass:"text-xs text-truncate"},[e._v(" "+e._s(e.race._event.name)+" ")])]):e._e()])]),a("v-col",{attrs:{cols:"12 pt-0"}},[a("v-divider")],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-autocomplete",{attrs:{dense:"",label:"Choose a Race-Series",items:e.raceSeries,"item-text":"name","item-value":"id","hide-details":"","search-input":e.raceSeriesSearchInput,loading:e.findingRaceSeries,"no-data-text":"No Result Found! Type here to Search Race-Series","menu-props":{contentClass:"list-style"},"return-object":"",clearable:""},on:{"update:searchInput":function(t){e.raceSeriesSearchInput=t},"update:search-input":function(t){e.raceSeriesSearchInput=t}},scopedSlots:e._u([{key:"selection",fn:function(t){return[a("span",{staticClass:"d-block font-weight-medium text-truncate"},[e._v(" "+e._s(t.item.name)+" ")])]}},{key:"item",fn:function(t){return[a("v-list-item-content",[a("v-list-item-title",{staticClass:"text-sm"},[e._v(" "+e._s(t.item.name)+" ")]),a("v-list-item-subtitle",e._l(t.item._events||[],(function(t){return a("v-chip",{key:t.id,staticClass:"mr-1",attrs:{"x-small":""}},[e._v(" "+e._s(t.name)+" ")])})),1)],1)]}}]),model:{value:e.selectedRaceSeries,callback:function(t){e.selectedRaceSeries=t},expression:"selectedRaceSeries"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-autocomplete",{attrs:{dense:"",label:"Choose a Category",items:e.categories,"item-text":"title","item-value":"id","return-object":""},model:{value:e.category,callback:function(t){e.category=t},expression:"category"}})],1)],1)],1),a("v-simple-table",{class:{disabled:!e.selectedRaceSeries||!e.category},scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{},[e._v("#")]),a("th",{},[e._v("Rider")]),a("th",{},[e._v("Place")]),a("th",{},[e._v(" Category Place "),a("v-btn",{attrs:{outlined:"",color:"error","x-small":""},on:{click:function(t){return e.autoFillPlaces()}}},[e._v("Auto Fill")])],1),a("th",{staticClass:"actions text-center"},[e._v("Actions")])])]),a("tbody",e._l(e.records,(function(t,i){return a("tr",{key:i},[a("td",{},[a("span",[e._v(e._s(t.id))])]),a("td",{},[a("div",{staticClass:"d-flex align-center"},[a("v-avatar",{staticClass:"v-avatar-light-bg success--text",attrs:{color:"success",size:"30"}},[t._rider&&t._rider._user.avatar?a("v-img",{attrs:{src:t._rider._user.avatar}}):a("span",{staticClass:"font-weight-medium"},[e._v(" "+e._s(e.avatarText(t._rider?t._rider.first_name:t.more_data.first_name||"N/A"))+" ")])],1),a("div",{staticClass:"d-flex flex-column pl-1"},[a("span",{staticClass:"font-weight-semibold text-truncate text-decoration-none",attrs:{href:"javascript:"}},[t._rider?a("v-icon",{attrs:{small:""}},[e._v(e._s(e.icons.mdiAccountCheck))]):e._e(),e._v(" "+e._s(e.displayRiderName(t))+" ")],1)])],1)]),a("td",{},[a("span",[e._v(e._s(t.place))])]),a("td",{},[a("v-text-field",{attrs:{type:"number",min:"1",step:"1",dense:"","single-line":"","hide-details":"",placeholder:"Place"},model:{value:e.raceSeriesResultPlaces[t.id],callback:function(a){e.$set(e.raceSeriesResultPlaces,t.id,e._n(a))},expression:"raceSeriesResultPlaces[r.id]"}})],1),a("td",{staticClass:"actions text-center"},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(i){var n=i.on,s=i.attrs;return[a("v-btn",e._g(e._b({staticClass:"mr-1",attrs:{tabindex:"-1","x-small":"",outlined:"",color:"success",loading:e.saving[t.id],disabled:e.raceSeriesResultPlaces[t.id]==(e.raceSeriesResults[t.id]&&e.raceSeriesResults[t.id].place)},on:{click:function(a){return e.save(t)}}},"v-btn",s,!1),n),[e._v(" Save ")])]}}],null,!0)},[a("span",[e._v("Save Catgory Place")])])],1)])})),0)]},proxy:!0}])})],1),a("v-card-actions",[a("v-btn",{attrs:{color:"warning"},on:{click:function(t){return e.resetPlaces()}}},[e._v("Reset")]),a("v-spacer"),a("v-btn",{attrs:{color:"secondary",outlined:""},on:{click:function(t){return e.hide()}}},[e._v("Close")]),a("v-btn",{attrs:{color:"primary",loading:e.savingAll,disabled:!e.notSavedRecords.length},on:{click:function(t){return e.saveAll()}}},[e._v("Save All")])],1)],1)],1)},p=[],_=(a("4de4"),a("d3b7"),a("4160"),a("159b"),a("3ca3"),a("ddb0"),a("d81d"),{props:{organization:{type:Object,required:!0}},setup:function(e,t){var a=Object(r["J"])(!1),i=Object(r["J"])(null),n=Object(r["J"])(null),u=Object(r["J"])(null),d=Object(r["J"])({}),f=Object(r["J"])(!1),m=Object(r["J"])([]),p=Object(r["J"])([]),_=Object(r["J"])({}),b=Object(r["J"])({}),h=Object(r["J"])([]),g=Object(r["J"])([]),C=Object(r["J"])(""),y=Object(r["J"])(!1);Object(r["Y"])(C,(function(){S(C.value)})),Object(r["Y"])(n,(function(){j()})),Object(r["Y"])(u,(function(){j()}));var x=Object(r["b"])((function(){return h.value.filter((function(e){return b.value[e.id]!==(_.value[e.id]&&_.value[e.id].place)}))})),R=function(){h.value.forEach((function(e,t){Object(r["K"])(b.value,e.id,t+1)}))},O=function(e){y.value?p.value=[]:(y.value=!0,l["a"].get("cycling_org/race_series/",{params:{search:e}}).then((function(e){y.value=!1,p.value=e.data.results}),(function(e){y.value=!1,Object(c["notifyDefaultServerError"])(e,!0)})))},S=v.a.debounce(O,500),V=function(){var t={organization:e.organization.id,page_size:0};l["a"].get("cycling_org/category/",{params:t}).then((function(e){m.value=e.data.results}),(function(e){Object(c["notifyDefaultServerError"])(e,!0)}))},j=function(){if(n.value&&u.value){var t={organization:e.organization.id,category:u.value.id,race:i.value.id,race_series:n.value.id,fields:"id,race_result,place",page_size:0};l["a"].get("cycling_org/race_series_result/",{params:t}).then((function(e){var t={},a={};e.data.results.forEach((function(e){a[e.race_result]=e.place,t[e.race_result]=e})),b.value=a,_.value=t}),(function(e){Object(c["notifyDefaultServerError"])(e,!0)}))}},w=function(e){var t="";return t=e._rider?"".concat(e._rider.first_name," ").concat(e._rider.last_name).trim():"".concat(e.more_data.first_name||""," ").concat(e.more_data.last_name||"").trim(),t||"N/A"},k=function(){f.value=!0,Promise.all(x.value.map((function(e){return D(e,!0)})))["finally"]((function(){f.value=!1,Object(c["notifySuccess"])("Saved All.")}))},D=function(a,i){var s=_.value[a.id]?_.value[a.id].id:null,o={},v="cycling_org/race_series_result",f=l["a"].post,m="Race Series Result updated successfully.";s?(v="cycling_org/race_series_result/".concat(s),f=l["a"].patch):(o.organization=e.organization.id,o.race_result=a.id),o.category=u.value.id,o.race_series=n.value.id,o.place=b.value[a.id],Object(r["K"])(d.value,a.id,!0),f(v,o).then((function(e){Object(r["K"])(d.value,a.id,!1),_.value[a.id]=e.data,!i&&Object(c["notifySuccess"])(m,2e3),t.emit("save-successed",e.data)}),(function(e){Object(r["K"])(d.value,a.id,!1),Object(c["notifyDefaultServerError"])(e,!0)}))},I=function(){h.value=v.a.sortBy(g.value.map((function(e){return Object.assign({},e)})),["place","id"]),b.value={},_.value={},j(),V()},z=function(){a.value=!1},A=function(e,t){i.value=e,g.value=t,h.value=v.a.sortBy(t.map((function(e){return Object.assign({},e)})),["place","id"]),b.value={},_.value={},n.value=null,u.value=null,d.value={},a.value=!0,V()};return{isVisible:a,raceSeriesSearchInput:C,raceSeries:p,raceSeriesResults:_,raceSeriesResultPlaces:b,selectedRaceSeries:n,findRaceSeries:O,findRaceSeriesDebounce:S,findingRaceSeries:y,saving:d,savingAll:f,categories:m,records:h,recordsOrig:g,hide:z,show:A,save:D,saveAll:k,avatarText:o["a"],category:u,race:i,displayRiderName:w,autoFillPlaces:R,notSavedRecords:x,resetPlaces:I,icons:{mdiDelete:s["T"],mdiAlert:s["l"]}}}}),b=_,h=(a("e6f3"),a("2877")),g=a("6544"),C=a.n(g),y=a("c6a6"),x=a("8212"),R=a("8336"),O=a("b0af"),S=a("99d9"),V=a("cc20"),j=a("62ad"),w=a("a523"),k=a("169a"),D=a("ce7e"),I=a("132d"),z=a("adda"),A=a("5d23"),E=a("0fd9"),$=a("1f4f"),F=a("2fa4"),J=a("8654"),T=a("3a2f"),N=Object(h["a"])(b,m,p,!1,null,null,null),P=N.exports;C()(N,{VAutocomplete:y["a"],VAvatar:x["a"],VBtn:R["a"],VCard:O["a"],VCardActions:S["a"],VCardText:S["c"],VCardTitle:S["d"],VChip:V["a"],VCol:j["a"],VContainer:w["a"],VDialog:k["a"],VDivider:D["a"],VIcon:I["a"],VImg:z["a"],VListItemContent:A["b"],VListItemSubtitle:A["c"],VListItemTitle:A["d"],VRow:E["a"],VSimpleTable:$["a"],VSpacer:F["a"],VTextField:J["a"],VTooltip:T["a"]});var Y={components:{OrganizationRaceSeriesResultsFormDialog:P,OrganizationImportRaceResultsDialog:f["a"],OrganizationRaceResultFormDialog:u["a"]},props:{organization:{type:Object,required:!0}},setup:function(e,t){var a=Object(r["J"])([]),i=Object(r["J"])({total:0}),n=Object(r["J"])(!1),u=Object(r["J"])(!1),d=Object(r["J"])({}),f=Object(r["J"])({}),m=Object(r["J"])([]),p=[{text:"#ID",value:"id",align:"start"},{text:"RIDER",value:"rider"},{text:"PLACE",value:"place"},{text:"RACE",value:"race",cellClass:"race-td"},{text:"EVENT",value:"event",cellClass:"event-td"}];e.organization.my_level&&e.organization.my_level.is_admin&&p.push({text:"ACTIONS",value:"actions",align:"end",sortable:!1});var _=Object(r["J"])([]),b=Object(r["J"])([]),h=Object(r["J"])(""),g=Object(r["J"])(null),C=Object(r["J"])(null),y=Object(r["J"])(!1),x=Object(r["b"])((function(){var t=Object.assign({organization:e.organization.id},f.value);return C.value?t.race=C.value.id:g.value&&(t.event=g.value.id),Object(c["combineURLs"])(l["a"].defaults.baseURL,"cycling_org/race_result/export/csv",t)}));Object(r["Y"])(h,(function(){O(h.value)})),Object(r["Y"])(g,(function(){C.value=null,V(1),j()})),Object(r["Y"])(C,(function(e){m.value=[],e&&(d.value.sortBy=["place"]),V(1)}));var R=function(e){y.value?_.value=[]:(y.value=!0,l["a"].get("cycling_org/event/",{params:{search:e}}).then((function(e){y.value=!1,_.value=e.data.results}),(function(e){y.value=!1,Object(c["notifyDefaultServerError"])(e,!0)})))},O=v.a.debounce(R,500),S=function(e){var t="";return t=e._rider?"".concat(e._rider.first_name," ").concat(e._rider.last_name).trim():"".concat(e.more_data.first_name||""," ").concat(e.more_data.last_name||"").trim(),t||"N/A"},V=function(t){t&&(d.value.page=t);var s=Object.assign({organization:e.organization.id,exfields:"more_data"},f.value,Object(c["refineVTableOptions"])(d.value));s.include_dns_dnf||(s.finish_status="ok"),delete s.include_dns_dnf,C.value?s.race=C.value.id:g.value&&(s.event=g.value.id),n.value=!0,l["a"].get("cycling_org/race_result/",{params:s}).then((function(e){n.value=!1,a.value=e.data.results,i.value=e.data.pagination}),(function(e){n.value=!1,Object(c["notifyDefaultServerError"])(e,!0)}))},j=function(){g.value?(u.value=!0,l["a"].get("cycling_org/race/",{params:{event:g.value.id,page_size:0}}).then((function(e){u.value=!1,b.value=e.data.results}),(function(e){u.value=!1,Object(c["notifyDefaultServerError"])(e,!0)}))):b.value=[]};return Object(r["Y"])((function(){return f}),(function(e,t){V(1)}),{deep:!0}),Object(r["A"])((function(){})),{records:a,eventSearchInput:h,events:_,races:b,selectedEvent:g,selectedRace:C,findEvents:R,findEventsDebounce:O,findingEvents:y,displayRiderName:S,tableColumns:p,tableOptions:d,tableFiltering:f,loading:n,loadingRaces:u,pagination:i,avatarText:o["a"],loadRecords:V,loadRaces:j,selectedRows:m,exportUrl:x,icons:{mdiPlus:s["Nb"],mdiPencilOutline:s["Kb"],mdiEyeOutline:s["ab"],mdiAccountGroupOutline:s["g"],mdiAccountMultipleOutline:s["h"],mdiClose:s["O"],mdiCheck:s["B"],mdiInformationOutline:s["vb"],mdiRefresh:s["Sb"],mdiAccountCheck:s["c"],mdiFileExcelOutline:s["eb"],mdiPodiumGold:s["Pb"]}}}},M=Y,L=(a("8248"),a("ac7c")),B=a("8fea"),U=Object(h["a"])(M,i,n,!1,null,null,null);t["a"]=U.exports;C()(U,{VAutocomplete:y["a"],VAvatar:x["a"],VBtn:R["a"],VCard:O["a"],VCardText:S["c"],VCheckbox:L["a"],VChip:V["a"],VCol:j["a"],VDataTable:B["a"],VDivider:D["a"],VIcon:I["a"],VImg:z["a"],VListItemContent:A["b"],VListItemSubtitle:A["c"],VListItemTitle:A["d"],VRow:E["a"],VTextField:J["a"],VTooltip:T["a"]})},b55e:function(e,t,a){},d7ba2:function(e,t,a){"use strict";a("f9f0")},df3f:function(e,t,a){},e6f3:function(e,t,a){"use strict";a("df3f")},f9f0:function(e,t,a){}}]);
//# sourceMappingURL=chunk-060672e4.ce4666d4.js.map